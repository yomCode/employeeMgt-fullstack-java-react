{"ast":null,"code":"import _regeneratorRuntime from\"/Users/decagon/Desktop/EmployeeMgt-be/src/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/decagon/Desktop/EmployeeMgt-be/src/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/decagon/Desktop/EmployeeMgt-be/src/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{useNavigate}from'react-router-dom';import EmployeeService from'../services/EmployeeService';import Button from'./Button';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ListEmployee=function ListEmployee(){var navigate=useNavigate();var _useState=useState(true),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),employees=_useState4[0],setEmployees=_useState4[1];useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoading(true);_context.prev=1;response=EmployeeService.getEmployees();_context.t0=setEmployees;_context.next=6;return response;case 6:_context.t1=_context.sent.data;(0,_context.t0)(_context.t1);_context.next=13;break;case 10:_context.prev=10;_context.t2=_context[\"catch\"](1);console.log(_context.t2);case 13:setLoading(false);case 14:case\"end\":return _context.stop();}}},_callee,null,[[1,10]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[]);var updateEmployee=function updateEmployee(e,id){e.preventDefault();navigate(\"/updateEmployee/\".concat(id));};var getEmployee=function getEmployee(e,id){e.preventDefault();navigate(\"/getEmployee/\".concat(id));};var deleteEmployee=function deleteEmployee(e,id){e.preventDefault();EmployeeService.deleteEmployee(id).then(function(response){if(employees){setEmployees(function(prevElement){return prevElement.filter(function(employee){return employee.id!==id;});});}});};return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col gap-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-center\",children:\"Employee List\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:function onClick(){return navigate(\"/addEmployee\");},children:\"Add new Employee\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table table-striped table-bordered\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"text-center\",children:\"S/N\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-center\",children:\"Employee First Name\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-center\",children:\"Employee Last Name\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-center\",children:\"Employee Email\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-center\",children:\"Action\"})]})}),!loading&&/*#__PURE__*/_jsx(\"tbody\",{children:employees.map(function(employee){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{children:[\" \",employees.indexOf(employee)+1,\" \"]}),/*#__PURE__*/_jsx(\"td\",{children:employee.firstName}),/*#__PURE__*/_jsx(\"td\",{children:employee.lastName}),/*#__PURE__*/_jsx(\"td\",{children:employee.email}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"col d-flex justify-content-around\",children:[/*#__PURE__*/_jsx(Button,{type:\"button\",title:\"Delete\",classAttr:\"btn btn-danger\",click:function click(e,id){return deleteEmployee(e,employee.id);}}),/*#__PURE__*/_jsx(Button,{type:\"button\",title:\"Edit\",classAttr:\"btn btn-primary\",click:function click(e,id){return updateEmployee(e,employee.id);}}),/*#__PURE__*/_jsx(Button,{type:\"button\",title:\"View\",classAttr:\"btn btn-info\",click:function click(e,id){return getEmployee(e,employee.id);}})]})})]},employee.id);})})]})})]});};export default ListEmployee;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","EmployeeService","Button","ListEmployee","navigate","loading","setLoading","employees","setEmployees","fetchData","response","getEmployees","data","console","log","updateEmployee","e","id","preventDefault","getEmployee","deleteEmployee","then","prevElement","filter","employee","map","indexOf","firstName","lastName","email"],"sources":["/Users/decagon/Desktop/EmployeeMgt-be/src/frontend/src/components/ListEmployeeComponent.js"],"sourcesContent":["import React, {useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport EmployeeService from '../services/EmployeeService';\nimport Button from './Button';\n\n\nconst ListEmployee = () => {\n\n    const navigate = useNavigate();\n\n\n    const [loading, setLoading] = useState(true);\n    const [employees, setEmployees] = useState(null);\n\n    useEffect(() => {\n        const fetchData = async () =>{\n            setLoading(true);\n            try{\n                const response = EmployeeService.getEmployees();\n                setEmployees((await response).data)\n            }catch(error){\n                console.log(error);\n            }\n            setLoading(false);\n        };\n        fetchData();\n    }, []);\n\n\n    const updateEmployee = (e, id) => {\n        e.preventDefault();\n        navigate(`/updateEmployee/${id}`);\n    }\n\n    const getEmployee = (e, id) =>{\n        e.preventDefault();\n        navigate(`/getEmployee/${id}`);\n    }\n\n\n    const deleteEmployee = (e, id) => {\n        e.preventDefault();\n        EmployeeService.deleteEmployee(id).then((response) => {\n            if(employees){\n                setEmployees((prevElement) =>{\n                    return prevElement.filter((employee) => employee.id !== id);\n                })\n            }\n        })\n    }\n\n    return(\n        <div className='flex flex-col gap-4'>\n            <h2 className='text-center' >Employee List</h2>\n            <div>\n                <button className='btn btn-primary' onClick={() => navigate(\"/addEmployee\")}>Add new Employee</button>\n            </div>\n            <div className='row'>\n                <table className='table table-striped table-bordered'>\n                    <thead>\n                    <tr>\n                        <th className='text-center'>S/N</th>\n                        <th className='text-center'>Employee First Name</th>\n                        <th className='text-center'>Employee Last Name</th>\n                        <th className='text-center'>Employee Email</th>\n                        <th className='text-center'>Action</th>\n                    </tr>\n                    </thead>\n                    {\n                        !loading && (\n                            <tbody>\n                            {\n                                employees.map((employee) => (\n\n                                    <tr key = {employee.id}>\n                                        <td> {employees.indexOf(employee) + 1} </td>\n                                        <td>{employee.firstName}</td>\n                                        <td>{employee.lastName}</td>\n                                        <td>{employee.email}</td>\n                                        <td>\n                                            <div className='col d-flex justify-content-around'>\n                                                <Button type=\"button\"  title = \"Delete\" classAttr='btn btn-danger' click={(e, id) => deleteEmployee(e, employee.id)} />\n                                                <Button type=\"button\" title = \"Edit\" classAttr='btn btn-primary' click={(e, id) => updateEmployee(e, employee.id)} />\n                                                <Button type=\"button\" title = \"View\" classAttr='btn btn-info' click={(e, id) => getEmployee(e, employee.id)} />\n                                            </div>\n\n                                        </td>\n                                    </tr>\n\n                                ))\n                            }\n\n\n                            </tbody>\n                        )}\n                </table>\n            </div>\n        </div>\n    )\n\n}\n\nexport default ListEmployee;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}